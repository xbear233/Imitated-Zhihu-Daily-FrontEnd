import{u as c}from"./counter-01ed0c99.js";import{_ as x,m as T,P as B,L as U,d as D,e as M,f as G,T as g,B as j,y as O,z,g as A,r as o,o as _,a as d,c as t,b as l,w as s,t as m,F as h,j as F,l as f}from"./index-494d12e5.js";const S={computed:{...T(c)},components:{PageHeader:B,List:U,ListItem:D,ListItemMeta:M,Avatar:G,Tabs:g,TabPane:g.TabPane,Button:j,PlusOutlined:O,LoadingOutlined:z},data(){return{collectNews_list:[],imageUrl:c().imgPth,userPhone:c().phonenumber}},methods:{handleChange:e=>{e.file.status==="done"&&getBase64(e.file.originFileObj,a=>{imageUrl.value=a}),e.file.status==="error"&&A.error("上传错误")},beforeUpload(e){const a=e.type==="image/jpeg",u=e.type==="image/png";return!a&&!u?(this.$message.error("请上传 JPG 或 PNG 格式的图片"),!1):e.size/1024/1024<2?(this.avatarUrl=URL.createObjectURL(e),!0):(this.$message.error("上传的图片大小不能超过 2MB"),!1)},getCollect(){const e=this;e.axios({methods:"GET",url:"http://localhost:8080/selectCollect"}).then(function(a){e.collectNews_list=a.data,console.log(e.collectNews_list)})},goToDetail(e){this.$router.replace("/detail/"+e)},logout(){c().passport=!1,this.$router.replace("/")}},created(){this.getCollect()}},V={class:"personal-container",style:{"background-color":"rgb(0, 0, 0,0.05)"}},$={class:"personal-header"},E={class:"personal-info"},J={class:"personal-name"},R={class:"personal-body"},H={style:{padding:"5px",height:"100%",overflow:"auto"}},q=["onClick"],K={class:"personal-footer"};function Q(e,a,u,b,i,r){const v=o("page-header"),y=o("a-avatar"),k=o("a-upload"),L=o("router-link"),N=o("Avatar"),P=o("ListItemMeta"),w=o("ListItem"),p=o("a-tab-pane"),C=o("a-tabs"),I=o("a-button");return _(),d(h,null,[t(v,{style:{border:"1px solid rgb(206, 208, 213)"},title:"返回",onBack:a[0]||(a[0]=()=>{e.$router.replace("/")})}),l("div",V,[l("div",$,[t(k,{class:"avatar-uploader",action:"#","before-upload":r.beforeUpload,"show-upload-list":!1,onChange:r.handleChange},{default:s(()=>[t(y,{src:i.imageUrl,size:128},null,8,["src"])]),_:1},8,["before-upload","onChange"])]),l("div",E,[l("div",J,m(i.userPhone),1)]),l("div",R,[t(C,{"default-active-key":"2"},{default:s(()=>[t(p,{key:"1",tab:"我的收藏"},{default:s(()=>[l("ul",H,[(_(!0),d(h,null,F(i.collectNews_list,n=>(_(),d("li",{key:n.collectNewsId,onClick:W=>r.goToDetail(n.collectNewsId),style:{"border-bottom":"1px solid #DDD"}},[t(w,null,{default:s(()=>[t(P,null,{title:s(()=>[t(L,{to:"/detail/"+n.collectNewsId},{default:s(()=>[f(m(n.collectNewsTitle),1)]),_:2},1032,["to"])]),avatar:s(()=>[t(N,{src:n.collectNewsImg},null,8,["src"])]),_:2},1024)]),_:2},1024)],8,q))),128))])]),_:1}),t(p,{key:"2",tab:"其他"})]),_:1})]),l("div",K,[t(I,{type:"danger",onClick:r.logout},{default:s(()=>[f("退出登录")]),_:1},8,["onClick"])])])],64)}const Z=x(S,[["render",Q],["__scopeId","data-v-9b72277f"]]);export{Z as default};
